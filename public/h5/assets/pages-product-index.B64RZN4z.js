import{r as t,o as a,a as e,b as s,j as i,f as o,w as l,F as r,g as n,d,s as c,i as u,e as p,k as f,h as m,t as g,c as h,l as x,m as _}from"./index-sKFDI-wa.js";import{_ as y,a as w}from"./uni-row.BiuaX5nq.js";import{_ as b}from"./标题装饰.S1UE32RW.js";import{S as k}from"./SwiperComponent.q5psLpg_.js";const $={__name:"index",setup($,{expose:L}){const j=t([{title:"卧式砂磨机",catid:2,productList:[]},{title:"篮式砂磨机",catid:3,productList:[]},{title:"分散机系列",catid:4,productList:[]},{title:"釜类",catid:5,productList:[]}]),S=async t=>{try{const a=`${n().globalData.http_api}s=product&&catid=${t}&c=search&api_call_function=module_list`;console.log(`获取 catid 为 ${t} 的产品列表的数据地址:`,a);const{data:e}=await d({url:a,method:"GET"});return console.log(`接口返回的完整 catid 为 ${t} 的产品列表数据:`,e),e.data}catch(a){return c({title:`请求 catid 为 ${t} 的产品列表接口失败`,icon:"none",mask:!0}),console.error(`请求 catid 为 ${t} 的产品列表接口失败：`,a),[]}};a((async()=>{for(const t of j.value)t.productList=await S(t.catid)}));return L({onShareAppMessage:()=>({path:"/pages/product/index"}),onShareTimeline:()=>({query:""})}),(t,a)=>{const n=x,d=u,c=_,$=e(s("uni-col"),y),L=e(s("uni-row"),w);return p(),i(r,null,[o(k),o(d,{class:"container"},{default:l((()=>[(p(!0),i(r,null,f(j.value,((t,a)=>(p(),i(r,{key:a},[o(d,{style:{display:"flex","align-items":"center",padding:"10rpx 10rpx 0 10rpx"}},{default:l((()=>[o(n,{src:b,style:{height:"21rpx",width:"auto"},mode:"heightFix"}),o(d,{style:{"margin-left":"10r","font-size":"31.25rpx"}},{default:l((()=>[m(g(t.title),1)])),_:2},1024)])),_:2},1024),o(d,null,{default:l((()=>[o(L,{style:{padding:"10rpx"},gutter:20},{default:l((()=>[(p(!0),i(r,null,f(t.productList,((t,a)=>(p(),h($,{span:12,index:a,key:a},{default:l((()=>[o(c,{style:{display:"block","background-color":"#f9f9f9",padding:"8rpx"},url:`/pages/product/details?id=${t.id}`},{default:l((()=>[o(n,{src:t.thumb,style:{height:"auto",width:"100%"},mode:"widthFix",onClick:a=>{return e=t.thumb,void console.log("Show lightbox:",e);var e}},null,8,["src","onClick"]),o(d,{style:{"font-size":"18.75rpx","text-align":"center","margin-bottom":"20rpx"}},{default:l((()=>[m(g(t.title),1)])),_:2},1024)])),_:2},1032,["url"])])),_:2},1032,["index"])))),128))])),_:2},1024)])),_:2},1024)],64)))),128))])),_:1})],64)}}};export{$ as default};
