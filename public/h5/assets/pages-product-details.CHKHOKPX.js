import{r as t,o as e,A as a,j as n,f as l,w as s,F as o,d as i,s as c,g as r,i as u,e as p,h as m,t as d,B as h,l as f}from"./index-sKFDI-wa.js";import{S as _}from"./SwiperComponent.q5psLpg_.js";const g={__name:"details",setup(g,{expose:v}){const b=t({title:"",inputtime:"",thumb:"",content:""});e((async()=>{const t=r(),e=a(),n=e[e.length-1].options.id,l=`${t.globalData.http_api}s=product&c=show&id=${n}&api_call_function=module_show`;console.log("获取数据的地址:",l);const s=await(async t=>{try{const{data:e}=await i({url:t,method:"GET"});return console.log("接口返回的完整数据:",e),1===e.code&&e.data?e.data:(console.error("接口返回数据格式不正确:",e),c({title:"获取数据失败",icon:"none",mask:!0}),null)}catch(e){return c({title:"请求接口失败",icon:"none",mask:!0}),console.error("请求接口失败：",e),null}})(l);s&&(b.value={...b.value,title:s.title,inputtime:s.inputtime,thumb:s.thumb,content:s.content},console.log("获取到的数据:",b.value))}));return v({onShareAppMessage:()=>({path:"/pages/product/details"}),onShareTimeline:()=>({query:""})}),(t,e)=>{const a=u,i=h,c=f;return p(),n(o,null,[l(_),l(a,{class:"container article-container"},{default:s((()=>[l(a,{class:"article-title"},{default:s((()=>[m(d(b.value.title),1)])),_:1}),l(a,{class:"article-info"},{default:s((()=>[l(i,null,{default:s((()=>[m("发布时间："+d(b.value.inputtime),1)])),_:1})])),_:1}),l(c,{class:"article-thumb",src:b.value.thumb,mode:"aspectFit"},null,8,["src"]),l(a,{innerHTML:b.value.content},null,8,["innerHTML"])])),_:1})],64)}}};export{g as default};
